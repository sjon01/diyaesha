function update_booking_image(e) {
    $("#booking_image").attr("src", $(e).find(":selected").data("filename"))
}
$(document).ready(function() {
    $(".profile_sliderss").length && $(window).width() < 767 && $(".profile_sliderss").slick({
        infinite: !0,
        slidesToShow: 1,
        slidesToScroll: 1
    }), $(".megamenu_close").on("click", function() {
        $("#mega-type , #mega-like , #mega-loc").fadeOut("fast")
    }), $(".btn-mega-loc").on("click", function() {
        $("#mega-type , #mega-like").fadeOut("fast"), $("#mega-loc").fadeToggle("fast")
    }), $(".btn-mega-type").on("click", function() {
        $("#mega-loc, #mega-like").fadeOut("fast"), $("#mega-type").fadeToggle("fast")
    }), $(".btn-mega-like").on("click", function() {
        $("#mega-loc, #mega-type").fadeOut("fast"), $("#mega-like").fadeToggle("fast")
    }), $("#sort-high").click(function() {
        var e = $("#profiles");
        e.find(".gallery-item-holder").sort(function(e, t) {
            return +e.dataset.price - +t.dataset.price
        }).appendTo(e)
    }), $(window).scroll(function() {
        $(this).scrollTop() > 100 ? $(".scrollToTop").fadeIn() : $(".scrollToTop").fadeOut()
    }), $(".scrollToTop").click(function() {
        return $("html, body").animate({
            scrollTop: 0
        }, 800), !1
    }), $("#bookings-form-wrapper").load("/bookings_form/render", function() {}), $(document).on("click", "#bookings-form-submit", function() {
        var e = $("#bookings-form");
        return $("<input>").attr("type", "hidden").attr("name", "page").val($(location).attr("href")).appendTo(e), check_required_empty() > 0 ? ($("#info").html('<div class="alert alert-danger alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>Please ensure all <strong>required fields</strong> are completed'), !1) : ($("#info").html(), $.ajax({
            type: "POST",
            url: "/bookings_form/process",
            data: e.serialize(),
            success: function(e) {
                $("#bookings-form-wrapper").html(e)
            }
        }), !1)
    }), 1 == (window.location != window.parent.location) && (window.onload = function() {
        parent.iframeLoaded()
    }), $("#reviews-form").on("submit", function() {
        var e = $(this);
        return $.post($(this).attr("action"), $(this).serialize() + "&btn_post_review=", function(t) {
            if (console.log(t), t = $.parseJSON(t), Object.keys(t.errors).length > 0)
                for (var i in e.find(":input").each(function() {
                        $(this).attr("name") in t.errors ? $(this).addClass("error") : $(this).removeClass("error")
                    }), t.errors) {
                    e.find("#message").addClass("error").html(t.errors[i]);
                    break
                } else {
                    for (var i in e.find(":input").each(function() {
                            $(this).removeClass("error")
                        }), t.values) e.find("[name=" + i + "]").val(t.values[i]);
                    e.find("#message").removeClass("error").addClass("success").html("Your review has been submitted!")
                }
        }), !1
    }), null != $.fn.datepicker && ($(".datepicker").datepicker(), $(document).mouseup(function(e) {})), null != $.fn.fancybox && $(".fancybox").fancybox({
        padding: 0,
        autoSize: !0,
        arrows: !0,
        helpers: {
            title: {
                type: "outside"
            }
        },
        afterLoad: function() {
            this.title = this.title + " " + $(this.element).find("img").attr("alt")
        }
    }), $(document).on("click", ".ajax-submit", function() {
        var e = $(this).parent().serialize();
        return console.log(e), !1
    }), null != $.fn.filestyle && $(":file").filestyle({
        icon: !1
    }), $(".content-btn").click(function() {
        $(this).siblings().closest(".content-spoiler-closed").toggleClass("content-spoiler-open"), "Read More" == $(this).html() ? $(this).html("Show Less") : $(this).html("Read More")
    }), $("#view-all-button").click(function() {
        $(".new-featured:nth-child(n+13)").show(), $("#view-all-button").hide(), $("#view-top-button").show()
    }), $("#view-top-button").click(function() {
        $([document.documentElement, document.body]).animate({
            scrollTop: $("#home-featured").offset().top - 250
        }, 1e3)
    }), $("#view-more-button").click(function() {
        $([document.documentElement, document.body]).animate({
            scrollTop: $("#home-featured").offset().top - 250
        }, 450)
    }), $("#view-top-button").hide()
}), $(function() {
    $(".click-nav > ul").toggleClass("no-js js"), $(".click-nav .js ul").hide(), $(".click-nav .js").click(function(e) {
        $(".click-nav .js ul").slideToggle(200), $(".clicker").toggleClass("active"), e.stopPropagation()
    }), $(document).click(function() {
        $(".click-nav .js ul").is(":visible") && ($(".click-nav .js ul", this).slideUp(), $(".clicker").removeClass("active"))
    })
}), $(function() {
    $(".click-nav1 > ul").toggleClass("no-js js"), $(".click-nav1 .js ul").hide(), $(".click-nav1 .js").click(function(e) {
        $(".click-nav1 .js ul").slideToggle(200), $(".clicker1").toggleClass("active"), e.stopPropagation()
    }), $(document).click(function() {
        $(".click-nav1 .js ul").is(":visible") && ($(".click-nav1 .js ul", this).slideUp(), $(".clicker1").removeClass("active"))
    })
}), $(function() {
    $(".click-nav2 > ul").toggleClass("no-js js"), $(".click-nav2 .js ul").hide(), $(".click-nav2 .js").click(function(e) {
        $(".click-nav2 .js ul").slideToggle(200), $(".clicker2").toggleClass("active"), e.stopPropagation()
    }), $(document).click(function() {
        $(".click-nav2 .js ul").is(":visible") && ($(".click-nav2 .js ul", this).slideUp(), $(".clicker2").removeClass("active"))
    })
}), $(function() {
    $(".click-nav3 > ul").toggleClass("no-js js"), $(".click-nav3 .js ul").hide(), $(".click-nav3 .js").click(function(e) {
        $(".click-nav3 .js ul").slideToggle(200), $(".clicker3").toggleClass("active"), e.stopPropagation()
    }), $(document).click(function() {
        $(".click-nav3 .js ul").is(":visible") && ($(".click-nav3 .js ul", this).slideUp(), $(".clicker3").removeClass("active"))
    })
}), $('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(e) {
    if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname === this.hostname) {
        var t = $(this.hash);
        (t = t.length ? t : $("[name=" + this.hash.slice(1) + "]")).length && (e.preventDefault(), $("html, body").animate(1e3, function() {
            var e = $(t);
            if (e.focus(), t.is(":focus")) return !1;
            e.attr("tabindex", "-1"), e.focus()
        }))
    }
});

$(function() {
    //win = window.innerWidth;
    // setTimeout(() => {
    //   $('.mega-btn').attr('href', 'javascript:void(0)');
    // }, 1000);
    $('.mega-btn').on('click', function(e) {
        e.preventDefault();
        setTimeout(() => {
            $('.navbar-close').css({
                'position': 'fixed',
                'z-index': '9999'
            })
        }, 100);
    });

    $('.megamenu-title').on('click', function() {
        $(this).parent().hide();
        setTimeout(() => {
            $('.navbar-close').css({
                'position': 'absolute',
                'z-index': '1'
            })
        }, 100);
    });

    $('.navbar-close').on('click', function() {
        $('.megamenu').hide();
        $(this).parent('.navbar-collapse').removeClass('in').addClass('collapse');
    });


    if ($("#carouselSingleProfile").length > 0) {
        function filterCheckWidth() {
            if ($(window).width() < 768) {
                $('#carouselSingleProfile').addClass('carousel slide').attr('data-ride', 'carousel');
                $('#carouselSingleProfile').carousel({
                    interval: false
                });
            } else {
                $('#carouselSingleProfile').removeClass('carousel slide').attr('data-ride', '');
            }
        }

        filterCheckWidth();

        $(window).resize(filterCheckWidth);

        $(".carousel-inner").swipe({
            //Generic swipe handler for all directions
            swipeLeft: function(event, direction, distance, duration, fingerCount) {
                $(this).parent().carousel('next');
            },
            swipeRight: function() {
                $(this).parent().carousel('prev');
            },
            //Default is 75px, set to 0 for demo so any distance triggers swipe
            threshold: 0
        });
    }



    $(function() {
        $('[data-toggle="tab"]').tooltip()
    });


    const related = document.getElementById('related');
    if (typeof related != undefined && related != null) {
        $('#related .gallery-item-wrap').slick({
            dots: false,
            arrows: true,
            infinite: true,
            speed: 300,
            slidesToShow: 5,
            slidesToScroll: 1,
            responsive: [{
                    breakpoint: 1200,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3,
                        dots: true,
                        arrows: false,
                    }
                },
                {
                    breakpoint: 768,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2,
                        dots: true,
                        arrows: false,
                    }
                },
                {
                    breakpoint: 576,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        dots: true,
                        arrows: false,
                        centerMode: true,
                    }
                },
            ]
        });
    }


    tabControl();

    var resizeTimer;
    $(window).on('resize', function(e) {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function() {
            tabControl();
        }, 250);
    });

    function tabControl() {
        var tabs = $('.tabbed-content').find('.tabs');
        if (tabs.is(':visible')) {
            tabs.find('a').on('click', function(event) {
                event.preventDefault();
                var target = $(this).attr('href'),
                    tabs = $(this).parents('.tabs'),
                    buttons = tabs.find('a'),
                    item = tabs.parents('.tabbed-content').find('.item');
                buttons.removeClass('active');
                item.removeClass('active');
                $(this).addClass('active');
                $(target).addClass('active');
            });
        } else {
            $('.item-btn').on('click', function() {
                // var container = $(this).parents().parents('.tabbed-content'),
                // currId = $(this).parents().attr('id'),
                // items = container.find('.item');
                // container.find('.tabs a').removeClass('active');
                // items.removeClass('active');
                // $(this).parents().addClass('active');
                $(this).parents().siblings('.item').removeClass('active');
                $(this).parents().toggleClass('active');
                setTimeout(() => {
                    $('body, html').animate({
                        scrollTop: $(this).offset().top - $('.navigation').innerHeight()
                    }, 100);
                }, 100);
                //container.find('.tabs a[href$="#'+ currId +'"]').addClass('active');
            });
        }
    }


    if ($(".sortBy").length > 0) {
        function shortBy() {
            if (window.innerWidth < 768) {
                $(".sortBy").removeClass('dropdown');
                $('#dLabel').attr('data-toggle', 'modal');
                $('#dLabel').attr('data-target', "#myModal");
                $('.dropdown-menu').addClass('modal fade');
                $('.dropdown-menu').attr('id', 'myModal');
            } else {
                $(".sortBy").addClass('dropdown');
                $('#dLabel').attr('data-toggle', 'dropdown');
                $('#dLabel').attr('data-target', "");
                $('.dropdown-menu').removeClass('modal fade');
                $('.dropdown-menu').attr('id', '');
                $('.dropdown-menu').attr('style', '');
            }
        }
        shortBy();
        window.addEventListener("resize", shortBy);
    }

    $(document).on('click', '.sortBy.dropdown > ul.dropdown-menu > li, .sortBy > ul.dropdown-menu.modal > li', function() {
        screenWidth = window.innerWidth;
        window.sortUrl = $(this).children('input').val();

        if (screenWidth >= 768) {
            window.location.href = window.sortUrl;
        }
    });

    $(document).on('click', '.apply-btn button.apply', function() {
        if (typeof window.sortUrl !== 'undefined') {
            window.location.href = window.sortUrl;
        }

    });

});


const bookEscort = document.getElementById('booking_escort');
if (typeof bookEscort != undefined && bookEscort != null) {
    const Staffimage = document.getElementById('booking_image_1');
    bookEscort.addEventListener('input', function() {
        let image = this.selectedOptions[0].getAttribute('data-filename');
        console.log(`${image}`);
        Staffimage.setAttribute('src', `/assets/staff/${image}`);
    });

    // window.addEventListener('pageshow', (event) => {
    //   if (event.persisted && !document.cookie.match(/my-cookie/)) {
    //     // Force a reload if the user has logged out.
    //     location.reload();
    //   }
    // });

};